{"version":3,"sources":["router.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;;;;;;;;;;;;;;;AAKb,SAAS,SAAS,CAAC,GAAG,EAAE;AACtB,KAAG,CAAC,MAAM,GAAG,0BAAQ,CAAC;AACtB,KAAG,CAAC,MAAM,CAAC,GAAG,CAAC,8BAAQ,CAAC,CAAC;AACzB,KAAG,CAAC,MAAM,CAAC,GAAG,4BAAC,iBAAW,IAAI;QAExB,GAAG,EACH,IAAI,EACJ,EAAE,EACF,GAAG;;;;;;AAHH,eAAG,GAAI,IAAI,CAAC,OAAO;AACnB,gBAAI,GAAG,GAAG,CAAC,IAAI;AACf,cAAE,GAAK,GAAG,CAAC,KAAK;AAChB,eAAG,GAAI,IAAI,CAAC,MAAM;;AAEtB,gBAAI,CAAC,IAAI,CAAC,KAAK,EAAE;AACf,kBAAI,CAAC,KAAK,GAAG,EAAE,CAAC;aACjB;;AAED,gBAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC;AACrB,gBAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,sBAAc,IAAI,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;AACtD,gBAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;;0CAEhC,IAAI;;;;;;;;GACZ,EAAC,CAAC;;AAEH,SAAO,GAAG,CAAC;CACZ;;kBAEc,SAAS","file":"router.js","sourcesContent":["'use strict';\n\nimport parser from 'koa-bodyparser';\nimport Router from 'koa-router';\n\nfunction routerify(app) {\n  app.router = Router();\n  app.router.use(parser());\n  app.router.use(function *(next) {\n    // Put all the params into state.naws.params;\n    let req  = this.request;\n    let body = req.body;\n    let qs   = req.query;\n    let par  = this.params;\n\n    if (!this.state) {\n      this.state = {};\n    }\n\n    this.state.naws = {};\n    this.state.naws.params = Object.assign(body, qs, par);\n    this.state.naws.url = this.request.url;\n    \n    yield *next;\n  });\n\n  return app;\n}\n\nexport default routerify;"],"sourceRoot":"/source/"}