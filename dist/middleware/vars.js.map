{"version":3,"sources":["middleware/vars.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;kBAOE,YAAW;AACxB,oCAAO,iBAAU,IAAI;QACf,OAAO,EACP,KAAK,EACL,IAAI,EACJ,MAAM,EAWN,IAAI;;;;;AAdJ,mBAAO,GAAG,IAAI,CAAC,KAAK;AACpB,iBAAK,GAAK,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE;AAClC,gBAAI,GAAM,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE;AACjC,kBAAM,GAAI,IAAI,CAAC,MAAM,IAAI,EAAE;;;;AAG/B,kCAAO,QAAO,KAAK,uDAAL,KAAK,OAAK,QAAQ,CAAC,CAAC;AAClC,kCAAO,QAAO,IAAI,uDAAJ,IAAI,OAAK,QAAQ,CAAC,CAAC;AACjC,kCAAO,QAAO,MAAM,uDAAN,MAAM,OAAK,QAAQ,CAAC,CAAC;;AAEnC,gBAAI,CAAC,IAAI,CAAC,KAAK,EAAE;AACf,kBAAI,CAAC,KAAK,GAAG,EAAE,CAAC;aACjB;;AAEG,gBAAI,GAAG,sBAAc,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC;;AAE7C,gBAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;;;mBAEjB,IAAI;;;;;;;;GACX,EAAC;CACH;;;;;;;;;;;;;;;;;;;;;;;;AAxBD,IAAM,KAAK,GAAG,qBAAM,oBAAoB,CAAC,CAAC","file":"middleware/vars.js","sourcesContent":["'use strict';\n\nimport debug from 'debug';\nimport assert from 'assert';\n\nconst trace = debug('ow:middleware:vars');\n\nexport default function() {\n  return function*(next) {\n    let context = this.state;\n    let query   = this.request.query || {};\n    let body    = this.request.body || {};\n    let params  = this.params || {};\n\n    // Merge query, body and params together\n    assert(typeof query === 'object');\n    assert(typeof body === 'object');\n    assert(typeof params === 'object');\n\n    if (!this.state) {\n      this.state = {};\n    }\n\n    let vars = Object.assign(query, body, params);\n\n    this.state.vars = vars;\n\n    yield next;\n  };\n}"],"sourceRoot":"/source/"}